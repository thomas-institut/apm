{% extends "base.twig" %}
{% import 'macros.twig' as macros %}

{% block title %}Edit Doc: {{docInfo.title}}{% endblock %}

{% block extraJS %}
<script type="application/javascript" src="{{baseurl}}/js/ApmUtil.js"></script>
<script type="application/javascript" src="{{baseurl}}/js/ApiUrl.js"></script>
<script type="application/javascript" src="{{baseurl}}/js/DocEdit.js"></script>
<script>
    ApiUrl.setBase('{{baseurl}}')
    $(document).ready(function () {
        docEditObj = new DocEdit('de', 
        JSON.parse('{{docInfo|json_encode|raw}}'),
        '{{path_for('api.doc.update', {'id': docInfo.id})}}',
        '{{path_for('doc.showdoc', {'id' : docInfo.id })}}')
    })
    
</script>
{% endblock %}

{% block content %}
     <ol class="breadcrumb">
        <li><a href="{{path_for('docs')}}">Documents</a></li>
        <li><a href="{{path_for('doc.showdoc', {'id' : docInfo.id })}}">{{ docInfo.title}}</a></li>
        <li class="active">Edit Document</li>
    </ol>

<h1>Edit Document Settings</h1>
  
<div class="row">
    <div class="col-md-8">    
<div class="withmarginleft-small">
    <form id="de-form">
        <div id="de-id-fg" class="form-group">
            <label for="de-id" id="de-title-label" class="control-label">Doc Id:</label>
            {{docInfo.id}}
        </div>
        <div id="de-title-fg" class="form-group">
            <label for="de-title" id="de-title-label" class="control-label">Title:</label>
            <input type="text" class="form-control" id="de-title" value="{{docInfo.title}}"/>
        </div>
        <div id="de-titlestatus"></div>
        <div id="de-shorttitle-fg" class="form-group">
            <label for="de-shorttitle" id="de-shorttitle-label" class="control-label">Short Title:</label>
            <input type="text" class="form-control" id="de-shorttitle" value="{{docInfo.short_title}}"/>
        </div>
        <div id="de-type-fg" class="form-group">
            <label for="de-type" id="de-type-label" class="control-label">Type:</label>
            <select id="de-type">{{docTypesOptions|raw}}</select>
        </div>
        <div id="de-lang-fg" class="form-group">
            <label for="de-lang" id="de-lang-label" class="control-label">Language:</label>
            <select id="de-lang">{{langOptions|raw}}</select>
        </div>
        <div id="de-imagesource-fg" class="form-group">
            <label for="de-imagesource" id="de-imagesource-label" class="control-label">Image Source:</label>
            <select id="de-imagesource">{{imageSourceOptions|raw}}</select>
        </div>
        <div id="de-imagesourcedata-fg" class="form-group">
            <label for="de-shorttitle" id="de-imagesourcedata-label" class="control-label">Image Source Data:</label>
            <input type="text" class="form-control" id="de-imagesourcedata" value="{{docInfo.image_source_data}}"/>
        </div>
    </form>
    
    <button type="button" class="btn btn-default" id="de-cancel">Cancel</button>
    <button type="button" class="btn btn-default hidden" id="de-reset">Reset</button>
    <button type="button" class="btn btn-primary hidden" id="de-submit">Submit Changes</button>
    
    <div id="de-status"></div>
</div>
    </div>
</div>
          
    
{% endblock %}

