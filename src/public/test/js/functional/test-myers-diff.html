<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Myers Diff Test</title>
    <link rel="stylesheet" type="text/css" href="../../../node_modules/bootstrap/dist/css/bootstrap.css"/>
    <script type="text/javascript" src="../../../node_modules/jquery/dist/jquery.js"></script>
    <script type="text/javascript" src="../../../node_modules/bootstrap/dist/js/bootstrap.js"></script>
    <script type="text/javascript" src="../../../js/MyersDiff.js"></script>


    <style>

        p.test-case {
            font-size: 120%;
        }
        .cmd-delete {
            color: indianred;
        }
        .cmd-add {
            color: green;
        }


    </style>
</head>
<body>
<div class="container">
<h1>Myers Diff Test</h1>
<div id="results">
</div>
</div>
<script>
  let testCases = [
    {
      array1: [4,5,6,7],
      array2: [4,5,7]
    },
    {
      array1: [4,5,6,7],
      array2: [4,5,8,7]
    },
    {
      array1: [4,5],
      array2: [4,5,6,7]
    },
    {
      array1: [1,2,3,4,5,8],
      array2: [4,5,6,7,8,9,10]
    }
  ]

  function getCommandHtml(command) {
    switch(command) {
      case 0:
        return `<span class="cmd-keep">KEEP</span>`

      case 1:
        return `<span class="cmd-add">ADD</span>`

      case -1:
        return `<span class="cmd-delete">DEL</span>`
    }

    return ''
  }

  let nTest = 1
  for(const testCase of testCases) {
    let html = `<h2>Case ${nTest}</h2>`
    html += `<p class="test-case">[ ${testCase.array1.join(', ')} ] &rarr; [ ${testCase.array2.join(', ')} ]</p>`
    let editScript = MyersDiff.calculate(testCase.array1, testCase.array2, function(a,b){ return a===b})
    html += '<ul class="script">'
    for(const item of editScript) {
      html += `<li>${getCommandHtml(item.command)} : Index ${item.index}, seq ${item.seq}</li>`
    }
    html += '</ul>'
    $('#results').append(html)
    nTest++
  }

</script>
</body>
</html>