{% extends "normal-page.twig" %}

{% block title %}Chunk {{workId}}-{{chunkNumber}}{% endblock %}

{% block extraCSS %}
    <link rel="stylesheet" type="text/css" href="{{baseUrl}}/css/witness.css"/>
    <link rel="stylesheet" type="text/css" media="screen" href="{{baseUrl}}/css/act-settingsform.css" />
    <link rel="stylesheet" type="text/css" media="screen" href="{{baseUrl}}/css/chunkpage.css" />
    <style>

        div#collationtablelinks {
            margin-bottom: 50px;
        }

        div#witnessListNew {
            margin-top: 50px;
            margin-bottom: 50px;
        }
    </style>

{% endblock %}

{% block extraJS %}
    <script type="application/javascript" src="{{baseUrl}}/js/dist/ChunkPage.bundle.js"></script>
{% endblock %}

{% block finalBodyJS %}
<script type="module">
  $(()  => {
    let showAdminInfo = JSON.parse('{{showAdminInfo|json_encode|e('js')}}');
    let cp = new ChunkPage({
      commonData: JSON.parse("{{commonData|json_encode|e('js')}}"),
      workId: '{{workId}}',
      chunkNumber: {{chunkNumber}},
      witnessInfo: JSON.parse('{{witnessInfoArray|json_encode|e('js')}}'),
      pageInfo: JSON.parse('{{pageInfo|json_encode|e('js')}}'),
      authorInfo: JSON.parse('{{authorInfo|json_encode|e('js')}}'),
      languageInfo : JSON.parse('{{languageInfo|json_encode|e('js')}}'),
      workInfo: JSON.parse('{{work_info|json_encode|e('js')}}'),
      validChunks: JSON.parse('{{validChunks|json_encode|e('js')}}'),
      savedCollationTables : JSON.parse('{{savedCollationTables|json_encode|e('js')}}'),
      showAdminInfo: showAdminInfo
    })
  });
</script>
{% endblock %}
